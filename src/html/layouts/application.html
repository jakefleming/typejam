{% from 'macros/helpers.html' import sprite %}
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>{% block title %}{{ title }}{% endblock %}</title>
    <link rel="stylesheet" href="stylesheets/app.css">
    <script src="https://use.typekit.net/rgx2rjd.js"></script>
    <script>try{Typekit.load({ async: true });}catch(e){}</script>
    <script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    {% include "shared/app-icons.html" %}
    {% block head %}{% endblock %}
  </head>
  <body id="body" class="event--before">
    {% block content %}{% endblock %}
    {% block javascript %}
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
      <!-- <script src="javascripts/app.js"></script> -->
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-104126914-1', 'auto');
        ga('send', 'pageview');

      </script>
      <!-- <script>
      const Confettiful = function(el) {
        this.el = el;
        this.containerEl = null;

        this.confettiFrequency = 1;
        this.confettiColors = ['#000'];
        this.confettiAnimations = ['slow', 'medium', 'fast'];
        this.confettiLetters = ['a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z'];
        this.confettiFamilies = ['CardinalGrotesqueCondensed','CardinalGrotesqueWide-SemiBold','liberteen','colt-soft','viktor-script','hobeaux-rococeaux','hobeaux-rococeaux-background'];
        this._setupElements();
        this._renderConfetti();
      };

      Confettiful.prototype._setupElements = function() {
        const containerEl = document.createElement('div');
        const elPosition = this.el.style.position;

        if (elPosition !== 'relative' || elPosition !== 'absolute') {
          this.el.style.position = 'relative';
        }

        containerEl.classList.add('confetti-container');

        this.el.appendChild(containerEl);

        this.containerEl = containerEl;
      };

      Confettiful.prototype._renderConfetti = function() {
        this.confettiInterval = setInterval(() => {
          const confettiEl = document.createElement('div');
          const confettiElAfter = document.createElement('div:after');
          const confettiSize = (Math.floor(Math.random() * 3) + 12) + 'px';
          const confettiLeft = (Math.floor(Math.random() * this.el.offsetWidth)) + 'px';
          const confettiAnimation = this.confettiAnimations[Math.floor(Math.random() * this.confettiAnimations.length)];
          const confettiFamily = this.confettiFamilies[Math.floor(Math.random() * this.confettiFamilies.length)];

          confettiEl.classList.add('confetti', 'confetti--animation-' + confettiAnimation);
          confettiEl.style.left = confettiLeft;
          confettiEl.style.width = confettiSize;
          confettiEl.style.fontSize = confettiSize;
          confettiEl.style.fontFamily = confettiFamily;
          confettiEl.append(this.confettiLetters[Math.floor(Math.random() * this.confettiLetters.length)]);
          confettiEl.removeTimeout = setTimeout(function() {
            confettiEl.parentNode.removeChild(confettiEl);
          }, 5000);

          this.containerEl.appendChild(confettiEl);
        }, 80);
      };

      window.confettiful = new Confettiful(document.querySelector('.js-container'));

      // Show different stuff based on whether now is before, during, or after the event
      (function () {
        // var now = new Date();
        var now = new Date('23 September 2017 12:00:00 GMT-07:00'); // During
        // var now = new Date('25 September 2017 12:00:00 GMT-07:00'); // After

        var eventStart = new Date('23 September 2017 10:00:00 GMT-07:00');
        var eventEnd = new Date('24 September 2017 18:00:00 GMT-07:00');

        if( now < eventStart ) {
          // the thing hasn't started yet
        } else if ( now > eventStart && now < eventEnd ) {
          // the thing is currently happening
          document.getElementById('body').classList.remove('event--before');
          document.getElementById('body').classList.add('event--during');
        } else if ( now > eventEnd ) {
          // the thing is over
          document.getElementById('body').classList.remove('event--before');
          document.getElementById('body').classList.add('event--after');
        }
      })();

      </script> -->
    {% endblock %}
  </body>
</html>
